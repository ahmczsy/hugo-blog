<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Receiver has generic name - Zshell的博客</title><meta name="Description" content="专注于IT互联网，包括但不限于Golang、Java、Android、VPS、软件架构等"><meta property="og:title" content="Receiver has generic name" />
<meta property="og:description" content="问题
Golang的方法接收者就是在函数名前的括号内的东西  如
func (self Car) run() // (self car)就是方法接收者
在JetBrains系类的开发工具中（IntelliJ、Goland）如果方法接收者名字是self  me  this类似的词，IDE会提示Receiver has generic name信息 如下图所示
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.18881888.xyz/post/2019.8.26_receiver-has-generic-name/" />
<meta property="article:published_time" content="2019-08-26T14:42:11+08:00" />
<meta property="article:modified_time" content="2019-08-26T14:42:11+08:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Receiver has generic name"/>
<meta name="twitter:description" content="问题
Golang的方法接收者就是在函数名前的括号内的东西  如
func (self Car) run() // (self car)就是方法接收者
在JetBrains系类的开发工具中（IntelliJ、Goland）如果方法接收者名字是self  me  this类似的词，IDE会提示Receiver has generic name信息 如下图所示
"/>
<meta name="application-name" content="Zshell的博客">
<meta name="apple-mobile-web-app-title" content="Zshell的博客"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://blog.18881888.xyz/post/2019.8.26_receiver-has-generic-name/" /><link rel="prev" href="https://blog.18881888.xyz/post/2019.7.29_systemd%E9%9B%86%E6%88%90golang%E7%A8%8B%E5%BA%8F/" /><link rel="next" href="https://blog.18881888.xyz/post/2019.9.12_golang-ldfalgs%E7%9A%84%E5%B0%8F%E6%8A%80%E5%B7%A7/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Receiver has generic name",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/blog.18881888.xyz\/post\/2019.8.26_receiver-has-generic-name\/"
        },"genre": "post","wordcount":  207 ,
        "url": "https:\/\/blog.18881888.xyz\/post\/2019.8.26_receiver-has-generic-name\/","datePublished": "2019-08-26T14:42:11+08:00","dateModified": "2019-08-26T14:42:11+08:00","publisher": {
            "@type": "Organization",
            "name": "noel"},"author": {
                "@type": "Person",
                "name": "noel"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Zshell的博客"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="https://s2.ax1x.com/2019/08/05/egNJkd.jpg"
        data-srcset="https://s2.ax1x.com/2019/08/05/egNJkd.jpg, https://s2.ax1x.com/2019/08/05/egNJkd.jpg 1.5x, https://s2.ax1x.com/2019/08/05/egNJkd.jpg 2x"
        data-sizes="auto"
        alt="https://s2.ax1x.com/2019/08/05/egNJkd.jpg"
        title="https://s2.ax1x.com/2019/08/05/egNJkd.jpg" /><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span><span id="id-1" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Zshell的博客"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="https://s2.ax1x.com/2019/08/05/egNJkd.jpg"
        data-srcset="https://s2.ax1x.com/2019/08/05/egNJkd.jpg, https://s2.ax1x.com/2019/08/05/egNJkd.jpg 1.5x, https://s2.ax1x.com/2019/08/05/egNJkd.jpg 2x"
        data-sizes="auto"
        alt="https://s2.ax1x.com/2019/08/05/egNJkd.jpg"
        title="https://s2.ax1x.com/2019/08/05/egNJkd.jpg" /><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span><span id="id-2" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="page single special"><h1 class="single-title animated pulse faster">Receiver has generic name</h1><div class="content" id="content"><h4 id="问题">问题</h4>
<p>Golang的<strong>方法接收者</strong>就是在函数名前的括号内的东西  如</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">self</span> <span style="color:#a6e22e">Car</span>) <span style="color:#a6e22e">run</span>() <span style="color:#75715e">// (self car)就是方法接收者
</span></code></pre></div><p>在JetBrains系类的开发工具中（IntelliJ、Goland）如果方法接收者名字是<strong>self  me  this</strong>类似的词，IDE会提示<em>Receiver has generic name</em>信息 如下图所示</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://s2.ax1x.com/2019/08/26/mW6QpQ.png"
        data-srcset="https://s2.ax1x.com/2019/08/26/mW6QpQ.png, https://s2.ax1x.com/2019/08/26/mW6QpQ.png 1.5x, https://s2.ax1x.com/2019/08/26/mW6QpQ.png 2x"
        data-sizes="auto"
        alt="https://s2.ax1x.com/2019/08/26/mW6QpQ.png"
        title="mW6QpQ.png" /></p>
<h4 id="go中的函数">Go中的函数</h4>
<p>在Go中，无论是方法还是函数都可以把他作为一个普通的函数来调用</p>
<p>Demo:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Car</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">i</span> <span style="color:#66d9ef">int</span>
}

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#a6e22e">Car</span>) <span style="color:#a6e22e">run</span>() {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;my receiver is:&#34;</span>, <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">i</span>)
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestSelf</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) {
	<span style="color:#a6e22e">a</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Car</span>{<span style="color:#ae81ff">1</span>}
	<span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">run</span>()
	<span style="color:#a6e22e">Car</span>.<span style="color:#a6e22e">run</span>(<span style="color:#a6e22e">Car</span>{<span style="color:#ae81ff">22</span>})
}
</code></pre></div><p>运行结果如下：</p>
<pre><code>my receiver is: 1
my receiver is: 22
</code></pre><p>Go的方法只是语法糖而已，本质还是第一个参数是接收者的普通函数</p>
<h4 id="解释">解释</h4>
<p>在其他面向对象的语言中<strong>this self me</strong>这些字段都有具体的含义，比如可以访问自己的私有方法或字段或者有其他特殊的含义。</p>
<p>但是在go中最好不用使用这些词，因为方法接收者只是一个普通的参数而，起不到这些词字面上的含义</p>
<p>go官方的代码规范也提到了这一点</p>
<blockquote>
<p>The name of a method&rsquo;s receiver should be a reflection of its identity; often a one or two letter abbreviation of its type suffices (such as &ldquo;c&rdquo; or &ldquo;cl&rdquo; for &ldquo;Client&rdquo;). Don&rsquo;t use generic names such as &ldquo;me&rdquo;, &ldquo;this&rdquo; or &ldquo;self&rdquo;, identifiers typical of object-oriented languages that gives the method a special meaning. In Go, the receiver of a method is just another parameter and therefore, should be named accordingly. The name need not be as descriptive as that of a method argument, as its role is obvious and serves no documentary purpose. It can be very short as it will appear on almost every line of every method of the type; familiarity admits brevity. Be consistent, too: if you call the receiver &ldquo;c&rdquo; in one method, don&rsquo;t call it &ldquo;cl&rdquo; in another.</p>
</blockquote>
<p>如果想关闭掉这个提示可以在Setting-&gt;Editor-&gt;Inspections-&gt;Go-&gt;Code style issues 中把Receiver has generic name这一项取消</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://s2.ax1x.com/2019/08/26/mWcE34.png"
        data-srcset="https://s2.ax1x.com/2019/08/26/mWcE34.png, https://s2.ax1x.com/2019/08/26/mWcE34.png 1.5x, https://s2.ax1x.com/2019/08/26/mWcE34.png 2x"
        data-sizes="auto"
        alt="https://s2.ax1x.com/2019/08/26/mWcE34.png"
        title="mWcE34.png" /></p>
<h4 id="参考">参考</h4>
<ul>
<li>
<p><a href="https://stackoverflow.com/questions/23482068/in-go-is-naming-the-receiver-variable-self-misleading-or-good-practice">https://stackoverflow.com/questions/23482068/in-go-is-naming-the-receiver-variable-self-misleading-or-good-practice</a></p>
</li>
<li>
<p><a href="https://stackoverflow.com/questions/38025743/go-why-shouldnt-use-this-for-method-receiver-name">https://stackoverflow.com/questions/38025743/go-why-shouldnt-use-this-for-method-receiver-name</a></p>
</li>
<li>
<p><a href="https://github.com/golang/go/wiki/CodeReviewComments#receiver-names">https://github.com/golang/go/wiki/CodeReviewComments#receiver-names</a></p>
</li>
</ul></div></div></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.80.0">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">noel</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/typeit/typeit.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"data":{"id-1":"写 golang 的程序员👩‍罢了","id-2":"写 golang 的程序员👩‍罢了"},"typeit":{"cursorChar":null,"cursorSpeed":null,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":null,"speed":null}};</script><script type="text/javascript" src="/js/theme.min.js"></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'UA-151122324-1', { 'anonymize_ip': true });
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-151122324-1" async></script></body>
</html>
